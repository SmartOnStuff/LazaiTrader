name = "lt-tg-suggestion"
main = "worker.js"
compatibility_date = "2024-01-01"
type = "module"

# D1 Database Binding (same database as main worker)
[[d1_databases]]
binding = "DB"
database_name = "lazaitrader"
database_id = "64791295-2134-4306-a6e9-4a45619aab05"

# Environment variables
[vars]
# LLM endpoint (DeepSeek by default)
LLM_ENDPOINT = "https://api.deepseek.com/v1/chat/completions"
# Character limit for inputs (trades, suggestions) to avoid token limits
INPUT_CHAR_LIMIT = "5000"

# Secrets (set via: wrangler secret put LLM_API_KEY)
# LLM_API_KEY = "..." (DeepSeek API key)

[env.production]
# Production environment settings

[observability]
[observability.logs]
enabled = true
head_sampling_rate = 1
invocation_logs = true
persist = true
